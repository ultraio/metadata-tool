name: Slack Release Action
on: [push]
jobs:
    slack_upload_job:
        runs-on: ubuntu-latest
        name: Upload release on slack
        steps:
            - name: Checkout
              uses: actions/checkout@v3
            - run: npm i
            - run: npm run build
            - run: ls ${{ github.workspace }}
            - run: echo "Test file " > test.txt
            - name: Upload to slack step
              uses: adrey/slack-file-upload-action@master
              with:
                  token: ${{ secrets.SLACK_TOKEN }}
                  path: src/schemas/*
                  channel: metadata-tool-releases
            - run: echo "Finished. Job's status is ${{ job.status }}."
